import{aa as e,an as o,ak as l,d as a,aK as s,ao as t,I as n,dg as r,c as i,o as d,h as c,j as u,al as f,n as p,a as v,t as y,g,w as m,i as b,K as h,dh as C,C as x,aw as k,bY as w,ai as $,ac as A,ad as S,aM as I,c2 as B,aL as F,r as R,di as _,dj as D,dk as L,U as E,J as P,dl as T,aU as M,bb as j,a3 as O,bt as z,bS as H,af as N,T as V,A as q,dm as K,dn as U,c3 as J,bj as Y,b5 as Z,as as G,ag as Q,at as W,av as X,cK as ee,V as oe,x as le,z as ae,a$ as se}from"./index-B3EiCo2S.js";import{t as te,E as ne}from"./index-BG_6nwkU.js";import{c as re}from"./refs-BF7DfOff.js";import{i as ie}from"./el-popper-BVxf87sZ.js";const de=Symbol("dialogInjectionKey"),ce=e({center:Boolean,alignCenter:Boolean,closeIcon:{type:o},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),ue=a({name:"ElDialogContent"});var fe=l(a({...ue,props:ce,emits:{close:()=>!0},setup(e,{expose:o}){const l=e,{t:a}=s(),{Close:$}=C,{dialogRef:A,headerRef:S,bodyId:I,ns:B,style:F}=t(de),{focusTrapRef:R}=t(w),_=n((()=>[B.b(),B.is("fullscreen",l.fullscreen),B.is("draggable",l.draggable),B.is("align-center",l.alignCenter),{[B.m("center")]:l.center}])),D=re(R,A),L=n((()=>l.draggable)),E=n((()=>l.overflow)),{resetPosition:P,updatePosition:T}=r(A,S,L,E);return o({resetPosition:P,updatePosition:T}),(e,o)=>(d(),i("div",{ref:v(D),class:p(v(_)),style:k(v(F)),tabindex:"-1"},[c("header",{ref_key:"headerRef",ref:S,class:p([v(B).e("header"),e.headerClass,{"show-close":e.showClose}])},[f(e.$slots,"header",{},(()=>[c("span",{role:"heading","aria-level":e.ariaLevel,class:p(v(B).e("title"))},y(e.title),11,["aria-level"])])),e.showClose?(d(),i("button",{key:0,"aria-label":v(a)("el.dialog.close"),class:p(v(B).e("headerbtn")),type:"button",onClick:o=>e.$emit("close")},[g(v(x),{class:p(v(B).e("close"))},{default:m((()=>[(d(),b(h(e.closeIcon||v($))))])),_:1},8,["class"])],10,["aria-label","onClick"])):u("v-if",!0)],2),c("div",{id:v(I),class:p([v(B).e("body"),e.bodyClass])},[f(e.$slots,"default")],10,["id"]),e.$slots.footer?(d(),i("footer",{key:0,class:p([v(B).e("footer"),e.footerClass])},[f(e.$slots,"footer")],2)):u("v-if",!0)],6))}}),[["__file","dialog-content.vue"]]);const pe=e({...ce,appendToBody:Boolean,appendTo:{type:te.to.type,default:"body"},beforeClose:{type:S(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),ve={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[A]:e=>$(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ye=(e,o)=>{var l;const a=I().emit,{nextZIndex:s}=B();let t="";const r=F(),i=F(),d=R(!1),c=R(!1),u=R(!1),f=R(null!=(l=e.zIndex)?l:s());let p,v;const y=_("namespace",D),g=n((()=>{const o={},l=`--${y.value}-dialog`;return e.fullscreen||(e.top&&(o[`${l}-margin-top`]=e.top),e.width&&(o[`${l}-width`]=j(e.width))),o})),m=n((()=>e.alignCenter?{display:"flex"}:{}));function b(){null==v||v(),null==p||p(),e.openDelay&&e.openDelay>0?({stop:p}=T((()=>x()),e.openDelay)):x()}function h(){null==p||p(),null==v||v(),e.closeDelay&&e.closeDelay>0?({stop:v}=T((()=>k()),e.closeDelay)):k()}function C(){e.beforeClose?e.beforeClose((function(e){e||(c.value=!0,d.value=!1)})):h()}function x(){M&&(d.value=!0)}function k(){d.value=!1}return e.lockScroll&&L(d),E((()=>e.modelValue),(l=>{l?(c.value=!1,b(),u.value=!0,f.value=ie(e.zIndex)?s():f.value++,O((()=>{a("open"),o.value&&(o.value.parentElement.scrollTop=0,o.value.parentElement.scrollLeft=0,o.value.scrollTop=0)}))):d.value&&h()})),E((()=>e.fullscreen),(e=>{o.value&&(e?(t=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=t)})),P((()=>{e.modelValue&&(d.value=!0,u.value=!0,b())})),{afterEnter:function(){a("opened")},afterLeave:function(){a("closed"),a(A,!1),e.destroyOnClose&&(u.value=!1)},beforeLeave:function(){a("close")},handleClose:C,onModalClick:function(){e.closeOnClickModal&&C()},close:h,doClose:k,onOpenAutoFocus:function(){a("openAutoFocus")},onCloseAutoFocus:function(){a("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&C()},onFocusoutPrevented:function(e){var o;"pointer"===(null==(o=e.detail)?void 0:o.focusReason)&&e.preventDefault()},titleId:r,bodyId:i,closed:c,style:g,overlayDialogStyle:m,rendered:u,visible:d,zIndex:f}},ge=a({name:"ElDialog",inheritAttrs:!1});const me=W(l(a({...ge,props:pe,emits:ve,setup(e,{expose:o}){const l=e,a=z();H({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},n((()=>!!a.title)));const s=N("dialog"),t=R(),r=R(),i=R(),{visible:y,titleId:h,bodyId:C,style:x,overlayDialogStyle:w,rendered:$,zIndex:A,afterEnter:S,afterLeave:I,beforeLeave:B,handleClose:F,onModalClick:_,onOpenAutoFocus:D,onCloseAutoFocus:L,onCloseRequested:E,onFocusoutPrevented:P}=ye(l,t);Q(de,{dialogRef:t,headerRef:r,bodyId:C,ns:s,rendered:$,style:x});const T=U(_),M=n((()=>l.draggable&&!l.fullscreen));return o({visible:y,dialogContentRef:i,resetPosition:()=>{var e;null==(e=i.value)||e.resetPosition()},handleClose:F}),(e,o)=>(d(),b(v(ne),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:m((()=>[g(V,{name:"dialog-fade",onAfterEnter:v(S),onAfterLeave:v(I),onBeforeLeave:v(B),persisted:""},{default:m((()=>[q(g(v(K),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":v(A)},{default:m((()=>[c("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:v(h),"aria-describedby":v(C),class:p(`${v(s).namespace.value}-overlay-dialog`),style:k(v(w)),onClick:v(T).onClick,onMousedown:v(T).onMousedown,onMouseup:v(T).onMouseup},[g(v(J),{loop:"",trapped:v(y),"focus-start-el":"container",onFocusAfterTrapped:v(D),onFocusAfterReleased:v(L),onFocusoutPrevented:v(P),onReleaseRequested:v(E)},{default:m((()=>[v($)?(d(),b(fe,Y({key:0,ref_key:"dialogContentRef",ref:i},e.$attrs,{center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:v(M),overflow:e.overflow,fullscreen:e.fullscreen,"header-class":e.headerClass,"body-class":e.bodyClass,"footer-class":e.footerClass,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:v(F)}),Z({header:m((()=>[e.$slots.title?f(e.$slots,"title",{key:1}):f(e.$slots,"header",{key:0,close:v(F),titleId:v(h),titleClass:v(s).e("title")})])),default:m((()=>[f(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:m((()=>[f(e.$slots,"footer")]))}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):u("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])])),_:3},8,["mask","overlay-class","z-index"]),[[G,v(y)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])])),_:3},8,["to","disabled"]))}}),[["__file","dialog.vue"]])),be={class:"flex justify-between items-center h-54px pl-15px pr-15px relative"},he={class:"h-54px flex justify-between items-center absolute top-[50%] right-15px translate-y-[-50%]"},Ce=a({__name:"Dialog",props:{modelValue:X.bool.def(!1),title:X.string.def("Dialog"),fullscreen:X.bool.def(!1),maxHeight:X.oneOfType([String,Number]).def("600px")},setup(e){const o=z(),l=e,a=n((()=>{const e=["fullscreen","title","maxHeight"],o={...se(),...l};for(const l in o)-1!==e.indexOf(l)&&delete o[l];return o})),s=R(!1),t=()=>{s.value=!v(s)},r=R(ee(l.maxHeight)?`${l.maxHeight}px`:l.maxHeight);E((()=>s.value),(async e=>{if(await O(),e){const e=document.documentElement.offsetHeight;r.value=e-55-60-(o.footer?63:0)+"px"}else r.value=ee(l.maxHeight)?`${l.maxHeight}px`:l.maxHeight}),{immediate:!0});const i=n((()=>({height:v(r)})));return(l,n)=>{const r=ae("Icon");return d(),b(v(me),Y(a.value,{fullscreen:s.value,"destroy-on-close":"","lock-scroll":"",draggable:"",top:"15vh","close-on-click-modal":!1,"show-close":!1}),Z({header:m((({close:o})=>[c("div",be,[f(l.$slots,"title",{},(()=>[le(y(e.title),1)])),c("div",he,[e.fullscreen?(d(),b(r,{key:0,class:"cursor-pointer is-hover !h-54px mr-10px",icon:s.value?"radix-icons:exit-full-screen":"radix-icons:enter-full-screen",color:"var(--el-color-info)","hover-color":"var(--el-color-primary)",onClick:t},null,8,["icon"])):u("",!0),g(r,{class:"cursor-pointer is-hover !h-54px",icon:"ep:close","hover-color":"var(--el-color-primary)",color:"var(--el-color-info)",onClick:o},null,8,["onClick"])])])])),default:m((()=>[g(v(oe),{style:k(i.value)},{default:m((()=>[f(l.$slots,"default")])),_:3},8,["style"])])),_:2},[v(o).footer?{name:"footer",fn:m((()=>[f(l.$slots,"footer")])),key:"0"}:void 0]),1040,["fullscreen"])}}});export{Ce as _,pe as a,ve as d,ye as u};
