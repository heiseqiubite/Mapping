import{d as e,f as a,dS as l,r as t,q as s,i,o,w as r,g as u,a as n,E as d,y as v,x as m,t as p}from"./index-CzUwgbbU.js";import{a as c,E as g}from"./el-form-CaL45Rkc.js";import{a as f,E as b}from"./el-col-DrsecgEZ.js";import{E as y}from"./el-divider-8rja45mS.js";import"./el-tag-uhvpNveH.js";import"./el-popper-DVotpISH.js";import"./el-virtual-list-BjZ5Hwgj.js";import{E as _}from"./el-select-v2-g91cJ5Qp.js";import{E as V}from"./el-switch-CTUKVfWi.js";import{r as w}from"./index-CyWn8tDN.js";const h=(e,a,l)=>w.post({url:"/api/sensitive/data",data:{search:e,pageIndex:a,pageSize:l}}),j=e=>w.post({url:"/api/sensitive/delete",data:{ids:e}}),x=(e,a)=>w.post({url:"/api/sensitive/update/state",data:{ids:e,state:a}}),I=e({__name:"Detail",props:{closeDialog:{type:Function},getList:{type:Function},sensitiveForm:{}},setup(e){const{t:h}=a(),j=e,{sensitiveForm:x}=l(j),I=t({...x.value}),E=s({name:[{required:!0,message:h("sensitiveInformation.sensitiveNameMsg"),trigger:"blur"}],regular:[{required:!0,message:h("sensitiveInformation.sensitiveRegularMsg"),trigger:"blur"}]}),k=[{value:"null",label:"null"},{value:"green",label:"green"},{value:"red",label:"red"},{value:"cyan",label:"cyan"},{value:"yellow",label:"yellow"},{value:"orange",label:"orange"},{value:"gray",label:"gray"},{value:"pink",label:"pink"}],F=t(!1),R=t(),M=async e=>{F.value=!0,e&&await e.validate((async(e,a)=>{if(e){let e;e=""!=I.value.id?await(l=I.value.id,t=I.value.name,s=I.value.regular,i=I.value.color,o=I.value.state,w.post({url:"/api/sensitive/update",data:{id:l,name:t,regular:s,color:i,state:o}})):await((e,a,l,t)=>w.post({url:"/api/sensitive/add",data:{name:e,regular:a,color:l,state:t}}))(I.value.name,I.value.regular,I.value.color,I.value.state),200===e.code&&(j.getList(),j.closeDialog()),F.value=!1}else F.value=!1;var l,t,s,i,o}))};return(e,a)=>(o(),i(n(g),{model:I.value,"label-width":"auto",rules:E,"status-icon":"",ref_key:"ruleFormRef",ref:R},{default:r((()=>[u(n(c),{label:n(h)("sensitiveInformation.sensitiveName"),prop:"name"},{default:r((()=>[u(n(d),{modelValue:I.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>I.value.name=e),placeholder:n(h)("sensitiveInformation.sensitiveNameMsg")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),u(n(c),{label:n(h)("sensitiveInformation.sensitiveRegular"),prop:"regular"},{default:r((()=>[u(n(d),{modelValue:I.value.regular,"onUpdate:modelValue":a[1]||(a[1]=e=>I.value.regular=e),placeholder:n(h)("sensitiveInformation.sensitiveRegularMsg")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),u(n(c),{label:n(h)("sensitiveInformation.sensitiveColor")},{default:r((()=>[u(n(_),{modelValue:I.value.color,"onUpdate:modelValue":a[2]||(a[2]=e=>I.value.color=e),placeholder:"Please select color",options:k},null,8,["modelValue"])])),_:1},8,["label"]),u(n(c),{label:n(h)("common.state")},{default:r((()=>[u(n(V),{modelValue:I.value.state,"onUpdate:modelValue":a[3]||(a[3]=e=>I.value.state=e),"inline-prompt":"","active-text":n(h)("common.switchAction"),"inactive-text":n(h)("common.switchInactive")},null,8,["modelValue","active-text","inactive-text"])])),_:1},8,["label"]),u(n(y)),u(n(f),null,{default:r((()=>[u(n(b),{span:2,offset:8},{default:r((()=>[u(n(c),null,{default:r((()=>[u(n(v),{type:"primary",onClick:a[4]||(a[4]=e=>M(R.value)),loading:F.value},{default:r((()=>[m(p(n(h)("task.save")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"]))}});export{I as _,j as d,h as g,x as u};
