import{bl as e,b5 as a,ah as s,ay as l,aD as t,aC as i,az as o,bt as n,r as c,U as d,ak as r,I as u,aE as p,aV as m,aN as v,bE as b,al as f,d as C,c as h,o as y,ar as K,n as x,a as A,an as g,bv as I,aq as N,c6 as $,h as k,g as E,x as w,t as V,w as _,i as F,K as S,C as B,a$ as H,am as T,A as j,aX as P,aM as W,bT as q}from"./index-Bsz_-kew.js";import{c as z}from"./castArray-BltnW2TK.js";import{E as D}from"./index-J8gc4mN7.js";const M=l=>e(l)||a(l)||s(l),O=l({accordion:Boolean,modelValue:{type:o([Array,String,Number]),default:()=>n([])},expandIconPosition:{type:o([String]),default:"right"},beforeCollapse:{type:o(Function)}}),U={[i]:M,[t]:M},X=Symbol("collapseContextKey"),G=C({name:"ElCollapse"});var J=f(C({...G,props:O,emits:U,setup(e,{expose:a,emit:s}){const l=e,{activeNames:o,setActiveNames:n}=((e,a)=>{const s=c(z(e.modelValue)),l=l=>{s.value=l;const o=e.accordion?s.value[0]:s.value;a(i,o),a(t,o)},o=a=>{if(e.accordion)l([s.value[0]===a?"":a]);else{const e=[...s.value],t=e.indexOf(a);t>-1?e.splice(t,1):e.push(a),l(e)}};return d((()=>e.modelValue),(()=>s.value=z(e.modelValue)),{deep:!0}),p(X,{activeNames:s,handleItemClick:async a=>{const{beforeCollapse:s}=e;if(!s)return void o(a);const l=s(a);[m(l),v(l)].includes(!0)||b("ElCollapse","beforeCollapse must return type `Promise<boolean>` or `boolean`"),m(l)?l.then((e=>{!1!==e&&o(a)})).catch((e=>{})):l&&o(a)}}),{activeNames:s,setActiveNames:l}})(l,s),{rootKls:f}=(e=>{const a=r("collapse");return{rootKls:u((()=>[a.b(),a.b(`icon-position-${e.expandIconPosition}`)]))}})(l);return a({activeNames:o,setActiveNames:n}),(e,a)=>(y(),h("div",{class:x(A(f))},[K(e.$slots,"default")],2))}}),[["__file","collapse.vue"]]);const L=l({title:{type:String,default:""},name:{type:o([String,Number]),default:void 0},icon:{type:I,default:g},disabled:Boolean}),Q=C({name:"ElCollapseItem"});var R=f(C({...Q,props:L,setup(e,{expose:a}){const s=e,{focusing:l,id:t,isActive:i,handleFocus:o,handleHeaderClick:n,handleEnterClick:d}=(e=>{const a=N(X),{namespace:s}=r("collapse"),l=c(!1),t=c(!1),i=$(),o=u((()=>i.current++)),n=u((()=>{var a;return null!=(a=e.name)?a:`${s.value}-id-${i.prefix}-${A(o)}`})),d=u((()=>null==a?void 0:a.activeNames.value.includes(A(n))));return{focusing:l,id:o,isActive:d,handleFocus:()=>{setTimeout((()=>{t.value?t.value=!1:l.value=!0}),50)},handleHeaderClick:()=>{e.disabled||(null==a||a.handleItemClick(A(n)),l.value=!1,t.value=!0)},handleEnterClick:()=>{null==a||a.handleItemClick(A(n))}}})(s),{arrowKls:p,headKls:m,rootKls:v,itemTitleKls:b,itemWrapperKls:f,itemContentKls:C,scopedContentId:g,scopedHeadId:I}=((e,{focusing:a,isActive:s,id:l})=>{const t=r("collapse"),i=u((()=>[t.b("item"),t.is("active",A(s)),t.is("disabled",e.disabled)])),o=u((()=>[t.be("item","header"),t.is("active",A(s)),{focusing:A(a)&&!e.disabled}])),n=u((()=>[t.be("item","arrow"),t.is("active",A(s))]));return{itemTitleKls:u((()=>[t.be("item","title")])),arrowKls:n,headKls:o,rootKls:i,itemWrapperKls:u((()=>t.be("item","wrap"))),itemContentKls:u((()=>t.be("item","content"))),scopedContentId:u((()=>t.b(`content-${A(l)}`))),scopedHeadId:u((()=>t.b(`head-${A(l)}`)))}})(s,{focusing:l,isActive:i,id:t});return a({isActive:i}),(e,a)=>(y(),h("div",{class:x(A(v))},[k("button",{id:A(I),class:x(A(m)),"aria-expanded":A(i),"aria-controls":A(g),"aria-describedby":A(g),tabindex:e.disabled?-1:0,type:"button",onClick:A(n),onKeydown:H(T(A(d),["stop","prevent"]),["space","enter"]),onFocus:A(o),onBlur:e=>l.value=!1},[k("span",{class:x(A(b))},[K(e.$slots,"title",{isActive:A(i)},(()=>[w(V(e.title),1)]))],2),K(e.$slots,"icon",{isActive:A(i)},(()=>[E(A(B),{class:x(A(p))},{default:_((()=>[(y(),F(S(e.icon)))])),_:1},8,["class"])]))],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),E(A(D),null,{default:_((()=>[j(k("div",{id:A(g),role:"region",class:x(A(f)),"aria-hidden":!A(i),"aria-labelledby":A(I)},[k("div",{class:x(A(C))},[K(e.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[P,A(i)]])])),_:3})],2))}}),[["__file","collapse-item.vue"]]);const Y=W(J,{CollapseItem:R}),Z=q(R);export{Y as E,Z as a};
