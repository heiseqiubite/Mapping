import{d as e,f as a,q as l,r as t,c as s,o,h as i,g as r,A as n,w as p,a as c,B as d,i as u,F as m,x as v,t as j,E as f,y as g,C as _,D as x,j as y,G as b,H as h,s as w,_ as D}from"./index-C335Dbyp.js";import{E as V,a as A}from"./el-tab-pane-DU3ZJ2ff.js";import{E as k,a as P}from"./el-col-CoU3axbs.js";import{E}from"./el-switch-B1hfvIWf.js";import{E as R}from"./el-text-Db18Yw9k.js";import{a as L}from"./el-form-UGjKpEwN.js";import{E as S,a as U,b as C}from"./el-dropdown-item-ypTXrub9.js";import"./el-popper-BdVQ-fi9.js";import O from"./ProjectList-BMB87VeM.js";import{_ as T}from"./AddProject.vue_vue_type_script_setup_true_lang-D36u-Sp8.js";import{_ as I}from"./Dialog.vue_vue_type_style_index_0_lang-D8ePpfD3.js";import{g as $,d as q}from"./index-CQ8vTVrh.js";import{u as z}from"./useIcon-CkTT0Usi.js";import"./strings-BnBs96OV.js";import"./castArray-DcfcP02G.js";import"./el-pagination-C3mrmel7.js";import"./el-select-DxgVe2hv.js";import"./el-tag-DSkaNW9P.js";import"./index-9a9sxpBE.js";import"./debounce-Bhx9ODHg.js";import"./index-DcJJBfbp.js";import"./refs-Dt1UrLcT.js";import"./index-BWY9zJxx.js";import"./el-checkbox-CqOvfBK0.js";import"./el-upload-C8adnv6v.js";import"./el-progress-Dj_7FjH7.js";import"./el-divider-BZYcCevV.js";import"./el-tooltip-l0sNRNKZ.js";import"./el-radio-group-C80jDT57.js";import"./el-virtual-list-B4IL-mhu.js";import"./raf-iuS8F68J.js";import"./el-select-v2-4evr8ql9.js";import"./el-input-number-Ca7WmFBy.js";import"./index-Db6MGsay.js";import"./index-D4TQOvlj.js";import"./index-nItDL_e6.js";import"./DetailTemplate-CVhzJ-nT.js";import"./el-card-BWWcY-2r.js";/* empty css                */import"./index-CXxCiI03.js";import"./index-2Y-wxM3q.js";const B={class:"project-container"},G={class:"action-content"},H={class:"left-actions"},N={class:"right-actions"},F=D(e({__name:"Project",setup(e){const{t:D}=a();let F=l({}),J=t([]),K=l({});const M=t(!1),W=async(e,a)=>{0===e?(e=ae.value,a=le.value):(ae.value=e,le.value=a);try{const l=await $(Z.value,e,a);Object.assign(F,l.data.result),J.value=Object.keys(l.data.tag),Object.assign(K,l.data.tag);const t=J.value.indexOf("All");-1!==t&&J.value.splice(t,1)}catch(l){}},X=t(!1),Y=async()=>{X.value=!0},Q=()=>{X.value=!1},Z=t(""),ee=z({icon:"iconoir:search"}),ae=t(1),le=t(50),te=t(!1),se=async()=>{te.value=!0,M.value=!0,await W(ae.value,le.value),te.value=!1,M.value=!1};se();const oe=t(!1),ie=z({icon:"openmoji:delete"}),re=async()=>{const e=t(!0);h({title:"Delete",draggable:!0,message:()=>w("div",{style:{display:"flex",alignItems:"center"}},[w("p",{style:{margin:"0 10px 0 0"}},D("task.delAsset")),w(E,{modelValue:e.value,"onUpdate:modelValue":a=>{e.value=a}})])}).then((async()=>{await q(pe.value,e.value),W(ae.value,le.value)}))},ne=z({icon:"ri:arrow-drop-down-line"}),pe=t([]);return(e,a)=>{const l=d("loading");return o(),s(m,null,[i("div",B,[r(c(P),{class:"search-area modern-shadow",gutter:20},{default:p((()=>[r(c(k),{span:.5},{default:p((()=>[r(c(R),{class:"mx-1",style:{position:"relative",top:"8px"}},{default:p((()=>[v(j(c(D)("form.input"))+":",1)])),_:1})])),_:1}),r(c(k),{span:5},{default:p((()=>[r(c(f),{modelValue:Z.value,"onUpdate:modelValue":a[0]||(a[0]=e=>Z.value=e),placeholder:c(D)("common.inputText"),style:{height:"38px"}},null,8,["modelValue","placeholder"])])),_:1}),r(c(k),{span:5,style:{position:"relative",left:"16px"}},{default:p((()=>[r(c(g),{loading:te.value,type:"primary",icon:c(ee),size:"large",style:{height:"100%"},onClick:se},null,8,["loading","icon"])])),_:1})])),_:1}),r(c(P),{class:"action-area modern-shadow",gutter:20},{default:p((()=>[r(c(k),{span:24},{default:p((()=>[i("div",G,[i("div",H,[r(c(g),{type:"primary",onClick:Y,class:"add-btn"},{default:p((()=>[r(c(_),null,{default:p((()=>[r(c(x))])),_:1}),v(" "+j(c(D)("project.addProject")),1)])),_:1}),r(c(L),{label:c(D)("common.multipleSelection"),class:"switch-item"},{default:p((()=>[r(c(E),{modelValue:oe.value,"onUpdate:modelValue":a[1]||(a[1]=e=>oe.value=e),"inline-prompt":"","active-value":!0,"inactive-value":!1,"active-text":"Yes","inactive-text":"No",style:{"--el-switch-on-color":"var(--el-color-primary)"}},null,8,["modelValue"])])),_:1},8,["label"])]),i("div",N,[oe.value?(o(),u(c(C),{key:0,trigger:"click"},{dropdown:p((()=>[r(c(S),null,{default:p((()=>[r(c(U),{icon:c(ie),onClick:re},{default:p((()=>[v(j(c(D)("common.delete")),1)])),_:1},8,["icon"])])),_:1})])),default:p((()=>[r(c(g),{plain:"",class:"operation-btn"},{default:p((()=>[v(j(c(D)("common.operation"))+" ",1),r(c(_),{class:"el-icon--right"},{default:p((()=>[r(c(ne))])),_:1})])),_:1})])),_:1})):y("",!0)])])])),_:1})])),_:1}),n((o(),u(c(A),{class:"demo-tabs"},{default:p((()=>[r(c(V),{label:`All (${c(K).All})`},{default:p((()=>[r(O,{tableDataList:c(F).All,getProjectTag:W,total:c(K).All,multipleSelection:oe.value,selectedRows:pe.value,"onUpdate:selectedRows":a[2]||(a[2]=e=>pe.value=e)},null,8,["tableDataList","total","multipleSelection","selectedRows"])])),_:1},8,["label"]),(o(!0),s(m,null,b(c(J),(e=>(o(),u(c(V),{label:`${e} (${c(K)[e]})`,key:e},{default:p((()=>[r(O,{tableDataList:c(F)[e],getProjectTag:W,total:c(K)[e],multipleSelection:oe.value,selectedRows:pe.value,"onUpdate:selectedRows":a[3]||(a[3]=e=>pe.value=e)},null,8,["tableDataList","total","multipleSelection","selectedRows"])])),_:2},1032,["label"])))),128))])),_:1})),[[l,M.value]])]),r(c(I),{modelValue:X.value,"onUpdate:modelValue":a[4]||(a[4]=e=>X.value=e),title:c(D)("project.addProject"),center:"",style:{"border-radius":"15px","box-shadow":"5px 5px 10px rgb(0 0 0 / 30%)"}},{default:p((()=>[r(T,{closeDialog:Q,projectid:"",getProjectData:W,schedule:!1})])),_:1},8,["modelValue","title"])],64)}}}),[["__scopeId","data-v-87ec6d87"]]);export{F as default};
