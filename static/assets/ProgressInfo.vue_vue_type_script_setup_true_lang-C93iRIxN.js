import{d as t,f as e,q as n,s as r,X as a,c as i,o,F as p,g as l,a as c,P as s,w as d}from"./index-Bsz_-kew.js";import{_ as m}from"./Table.vue_vue_type_script_lang-DEQW24mX.js";import{p as u}from"./index-DhTuOjm6.js";import{u as f}from"./useTable-DOsThTKn.js";import{E as g}from"./el-tag-BK85rvDV.js";import"./el-tooltip-l0sNRNKZ.js";import{E as v}from"./el-popper-DexwxjEf.js";import{E as h}from"./el-card-DHQ8n2iG.js";import{E as y}from"./el-pagination-C7pJ8QU5.js";import"./el-select-CsCiNFSq.js";const S=t({__name:"ProgressInfo",props:{closeDialog:{type:Function},getProgressInfoID:{},getProgressInfotype:{},getProgressInforunnerid:{}},setup(t){const{t:S}=e(),b=t,w=n([{field:"target",label:S("task.taskTarget"),minWidth:40,formatter:(t,e,n)=>{const a=t.node&&""!==t.node?t.node:null;return a?r(v,{content:a,placement:"top",rawContent:!0},{default:()=>n}):n}},{field:"TargetHandler",label:S("scanTemplate.TargetHandler"),minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}},{field:"SubdomainScan",label:S("scanTemplate.SubdomainScan"),minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}},{field:"SubdomainSecurity",label:S("scanTemplate.SubdomainSecurity"),minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}},{field:"PortScanPreparation",label:S("scanTemplate.PortScanPreparation"),minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}},{field:"PortScan",label:S("scanTemplate.PortScan"),minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}},{field:"PortFingerprint",label:S("scanTemplate.PortFingerprint"),minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}},{field:"AssetMapping",label:S("scanTemplate.AssetMapping"),minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}},{field:"AssetHandle",label:S("scanTemplate.AssetHandle"),minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}},{field:"URLScan",label:S("scanTemplate.URLScan"),minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}},{field:"WebCrawler",label:S("scanTemplate.WebCrawler"),minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}},{field:"URLSecurity",label:S("scanTemplate.URLSecurity"),minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}},{field:"DirScan",label:S("scanTemplate.DirScan"),minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}},{field:"VulnerabilityScan",label:S("scanTemplate.VulnerabilityScan"),minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}},{field:"All",label:"All",minWidth:30,formatter:(t,e,n)=>{if(3==n.length)return r(a,{icon:"ph:prohibit"});if(""==n[0])return"-";let i="";return i+=`<div>Start:${n[0]}</div>`,i+=`<div>End:${n[1]}</div>`,""!=n[0]&&""!=n[1]?r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"success"},(()=>"Done")))):r(v,{content:i,placement:"top",rawContent:!0},(()=>r(g,{type:"primary"},(()=>"Running"))))}}]),{tableRegister:C,tableState:$,tableMethods:R}=f({fetchDataApi:async()=>{const t=await u(b.getProgressInfoID,T.value,W.value);return{total:t.data.total,list:t.data.list}},immediate:!1}),{loading:E,dataList:P,total:D,currentPage:T,pageSize:W}=$,{getList:j}=R;return j(),(t,e)=>(o(),i(p,null,[l(c(m),{pageSize:c(W),"onUpdate:pageSize":e[0]||(e[0]=t=>s(W)?W.value=t:null),currentPage:c(T),"onUpdate:currentPage":e[1]||(e[1]=t=>s(T)?T.value=t:null),onRegister:c(C),columns:w,data:c(P),rowKey:"_id",loading:c(E),resizable:!0,"max-height":"600","tooltip-options":{offset:1,showArrow:!1,effect:"dark",enterable:!0,showAfter:0,popperOptions:{},popperClass:"test",placement:"top",hideAfter:0,disabled:!0},style:{fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji"}},null,8,["pageSize","currentPage","onRegister","columns","data","loading"]),l(c(h),null,{default:d((()=>[l(c(y),{pageSize:c(W),"onUpdate:pageSize":e[2]||(e[2]=t=>s(W)?W.value=t:null),currentPage:c(T),"onUpdate:currentPage":e[3]||(e[3]=t=>s(T)?T.value=t:null),"page-sizes":[10,20,50,100,200,500,1e3],layout:"total, sizes, prev, pager, next, jumper",total:c(D)},null,8,["pageSize","currentPage","total"])])),_:1})],64))}});export{S as _};
